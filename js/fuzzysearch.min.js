;$(document).ready(function(){var c=[],l={pre:"<b>",post:"</b>",extract:function(e){return e.title}};$(document).bind("keyup","alt+ctrl+g",function(){console.log("start fuzzy search");$.get(CFG_GLPI.root_doc+"/ajax/fuzzysearch.php",{"action":"getHtml"},function(e){$(document.body).append(e);$.getJSON(CFG_GLPI.root_doc+"/ajax/fuzzysearch.php",{"action":"getList"},function(e){c=e});$(document).bind("keyup",function(e){switch(e.key){case"Escape":s();break;case"ArrowUp":u();break;case"ArrowDown":n();break;case"Enter":var t=$("#fuzzysearch .results .selected a").attr("href");if(t==undefined){t=$("#fuzzysearch .results li:first a").attr("href")};if(t!=undefined){document.location=t};break}});$("#fuzzysearch input").focus().bind("keyup",function(e){if(e.key!="Escape"&&e.key!="ArrowUp"&&e.key!="ArrowDown"&&e.key!="Enter"){t()}});$("#fuzzysearch .fa-times").click(function(){s()});setTimeout(function(){if($("#fuzzysearch .results li").length==0){t()}},100)})});var t=function(){var t=$("#fuzzysearch input").val();$("#fuzzysearch .results").empty();var e=fuzzy.filter(t,c,l);e.map(function(e){$("#fuzzysearch .results").append("<li><a href='"+CFG_GLPI.root_doc+e.original.url+"'>"+e.string+"</a></li>")});r()},s=function(){$("#fuzzysearch, .fuzzymodal").remove()},r=function(){$("#fuzzysearch .results li:first()").addClass("selected");e()},a=function(){$("#fuzzysearch .results li:last()").addClass("selected");e()},n=function(){if($("#fuzzysearch .results .selected").length==0){r()}
else{$("#fuzzysearch .results .selected:not(:last-child)").removeClass("selected").next().addClass("selected");e()}},u=function(){if($("#fuzzysearch .results .selected").length==0){a()}
else{$("#fuzzysearch .results .selected:not(:first-child)").removeClass("selected").prev().addClass("selected");e()}},e=function(){var e=$("#fuzzysearch .results"),t=e.find(".selected");e.scrollTop(e.scrollTop()+t.position().top-e.height()/2+t.height()/2)}});